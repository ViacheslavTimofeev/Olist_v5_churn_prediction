defaults:
  cast:
    mode: strict
    keep_unknown_columns: false
    csv_sep: ","
    output_dir: data/interim
  validate:
    null_delta_pp: 5.0
    new_cat_ratio: 0.02
    oob_ratio: 0.01          # доля значений за пределами границ
    strict_structure: true
    #dayfirst: false
    #sample: null             # например, 0.1 для 10% сэмпла

datasets:
  - name: public_customers
    path: "data/raw/olist_public_dataset_v2_customers.csv"
    cast:
      schema: typed_schemas/public_customers_types.yaml
      output: data/interim/public_customers_typed.parquet 
      mode: strict
    validate:
      suite: "validations/suites/public_customers.json"
   
  - name: public_data
    path: "data/raw/olist_public_dataset_v2.csv"
    cast:
      schema: typed_schemas/public_data_types.yaml
      output: data/interim/public_data_typed.parquet 
      mode: strict
    validate:
      suite: "validations/suites/public_data.json"

  - name: payments
    path: "data/raw/payments_olist_public_dataset.csv"
    cast:
      schema: typed_schemas/payments_types.yaml
      output: data/interim/payments_typed.parquet 
      mode: strict
    validate:
      suite: "validations/suites/payments.json"
    
  - name: translation
    path: "data/raw/product_category_name_translation.csv"
    cast:
      schema: typed_schemas/translation_types.yaml
      output: data/interim/translation_typed.parquet 
      mode: strict
    validate:
      suite: "validations/suites/translation.json"

  - name: product_measures
    path: "data/raw/product_measures_olist_public_dataset_.csv"
    cast:
      schema: typed_schemas/product_measures_types.yaml
      output: data/interim/product_measures_typed.parquet 
      mode: strict
    validate:
      suite: "validations/suites/product_measures.json"

  - name: sellers
    path: "data/raw/sellers_olist_public_dataset_.csv"
    cast:
      schema: typed_schemas/sellers_types.yaml
      output: data/interim/sellers_typed.parquet 
      mode: strict
    validate:
      suite: "validations/suites/sellers.json"
